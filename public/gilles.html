<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinépholia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav id="menu">
            <a href="accueil.html">
                <img id="Logo" src="Photos/Cinépholia.jpg" alt="Cinépholia">
            </a>
            <ul>
                <li class="titre"><a href="connexion.html">Connexion</a></li>
                <li class="titre"><a href="reservation.html">Réservation</a></li>
                <li class="titre"><a href="films.html">Films</a></li>
                <li class="titre"><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Bienvenue au cinéma Cinépholia</h1>
        <h2>Présentation du cinéma.</h2>
        <p>Notre cinéma comporte deux salles.</p>
        <p>Il vous est possible de <a href="reservation.html">réserver vos places</a> pour le <a href="films.html">film</a> de votre choix dans l'une de nos deux salles.</p>
        <h2>Films de la semaine</h2>
        <table id="films-table">
            <tr>
                <th>Titre du film</th>
                <th>Affiche du film</th>
            </tr>
        </table>
    </main>
    <script>
        // Fonction pour récupérer les films via fetch
        function loadFilms() {
            fetch('/films')
                .then(response => response.json())
                .then(films => {
                    const filmsTable = document.getElementById('films-table');
                    films.forEach(film => {
                        const row = filmsTable.insertRow();
                        const cell1 = row.insertCell(0);
                        const cell2 = row.insertCell(1);
                        cell1.textContent = film.titre;
                        const img = document.createElement('img');
                        img.src = 'data:image/jpeg;base64,' + film.affiche;
                        img.alt = 'Affiche du film';
                        img.width = 100;
                        cell2.appendChild(img);
                    });
                })
                .catch(error => console.error('Erreur:', error));
        }

        // Charger les films au chargement de la page
        window.onload = loadFilms;
    </script>
</body>
</html>